{% extends 'profile_base.html' %}

{% block settings_content %}
<h3 class="tab-header">Change Password</h3>
    {% for info in profile_info %}
        {% if messages %}
            {% for message in messages %}
                {% if "password" in message.tags %}
                    <div class="alert alert-success" role="alert">
                        {{ message }}
                    </div>
                {% endif %}
            {% endfor %}
        {% endif %}
        <div class="form-container">
            <form id="profileForm" action="{% url 'update_password' profile_id=info.user.id %}" method="post">
                {% csrf_token %}
                {% if errors.currentPassword %}
                    <p class="error">{{ errors.currentPassword }}</p>
                {% endif %}
                <div class="input-container">
                    <i class="fa-solid fa-lock" id="form-icon" style="color: #e6e6e6;"></i>
                    <input class="form-control" name="current_password" type="password" placeholder="enter current password" value="{{request.POST.current_password|default:''}}">
                </div>
                {% if errors.newPassword %}
                    <p class="error">{{ errors.newPassword }}</p>
                {% endif %}
                <div class="input-container">
                    <i class="fa-solid fa-lock" id="form-icon" style="color: #e6e6e6;"></i>
                    <input class="form-control" name="new_password" type="password" placeholder="enter new password" value="{{request.POST.new_password|default:''}}">
                </div>
                <div class="right-align">
                    <button class="form-button" type="submit">Register</button>
                </div>
            </form>
        </div>
    {% endfor %}
{% endblock %}